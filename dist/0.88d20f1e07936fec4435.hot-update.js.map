{"version":3,"sources":["webpack:///./server/renderedPageRouter.jsx","webpack:///./src/HelloWorld.jsx"],"names":["__webpack_require__","_server","renderedPageRouter","Router","test","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","console","log","staticContext","state","issues","i","metadata","totalCount","React","Component","_react2","default","createElement","get","req","res","html","renderToString","_HelloWorld2","send","_template2","_react","HelloWorld","assign","_this2","setTimeout","setState","addressee","defaultProps"],"mappings":"4WAAAA,EAAA,IACAC,EAAAD,EAAA,YACAA,EAAA,MACAA,EAAA,QACAA,EAAA,KAGAA,EAAA,OACAA,EAAA,UACAA,EAAA,wDAEA,IAAME,EAAqB,IAAIC,uBAI7B,SAAAC,EAAYC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAN,KACXF,IADW,OAEjBS,QAAQC,IAAI,YAAaP,EAAKH,MAAMW,eACpCR,EAAKS,MAAQ,CACXC,OAAQV,EAAKH,MAAMW,cAAcG,EAAEC,SAASC,YAJ7Bb,gUAFFc,UAAMC,+CAYrB,OACEC,EAAAC,QAAAC,cAAA,WAEEF,EAAAC,QAAAC,cAAA,cAASnB,KAAKU,MAAMC,gBAa5BhB,EAAmByB,IAAI,IAAK,SAACC,EAAKC,GAgChC,IAAMC,GAAO,EAAA7B,EAAA8B,gBAAeP,EAAAC,QAAAC,cAACM,EAAAP,QAAD,OAC5BI,EAAII,MAAK,EAAAC,EAAAT,SAASK,gBAGL5B,+UC7EfiC,EAAAnC,EAAA,2CAEqBoC,cACjB,SAAAA,EAAY/B,gGAAOC,CAAAC,KAAA6B,GAAA,IAAA5B,mKAAAC,CAAAF,MAAA6B,EAAA1B,WAAAC,OAAAC,eAAAwB,IAAAvB,KAAAN,KACTF,IADS,OAEfG,EAAKS,MAAQN,OAAO0B,OAAO,GAAI7B,EAAKH,OAFrBG,qUADiBc,UAAMC,0DAMtB,IAAAe,EAAA/B,KAChBO,QAAQC,IAAI,YACZwB,WAAW,WACPzB,QAAQC,IAAI,aACZuB,EAAKE,SAAS,CAAEC,UAAW,YAC5B,sCAIH,OACIjB,EAAAC,QAAAC,cAAA,WACIF,EAAAC,QAAAC,cAAA,mBAAWnB,KAAKU,MAAMwB,UAAtB,yBAjBKL,EAwBrBA,EAAWM,aAAe,CACtBD,UAAW","file":"0.88d20f1e07936fec4435.hot-update.js","sourcesContent":["import React from 'react';\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { StaticRouter } from 'react-router';\r\nimport Router from 'express';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { renderToString } from 'react-dom/server';\r\n\r\nimport IssueList from '../src/IssueList.jsx';\r\nimport template from './template.js';\r\nimport HelloWorld from '../src/HelloWorld.jsx';\r\n\r\nconst renderedPageRouter = new Router();\r\n\r\nclass test extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"props的值是：\", this.props.staticContext);\r\n    this.state = {\r\n      issues: this.props.staticContext.i.metadata.totalCount,\r\n      //   totalCount: data.metadata.totalCount,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <button>{this.state.issues}</button> */}\r\n        <button>{this.state.issues}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst test2 = () => <p>Page is test2222222</p>;\r\nconst NoMatch = () => <p>Pagee Not Found</p>;\r\nconst Client = () => {\r\n  <p>test client</p>\r\n}\r\n\r\n\r\nrenderedPageRouter.get('*', (req, res) => {\r\n  // console.log(\"服务器启用成功\");\r\n  // console.log(`http://127.0.0.1:3000/api${req.url}`);\r\n  // fetch(`http://127.0.0.1:3000/api${req.url}`).then(response => {\r\n  //   return response.json();\r\n  // }).then(result => {\r\n  //   console.log('从服务器返回的数据：', result);\r\n  //   const r = { i: result };\r\n  //   const context = { a: 123 };\r\n  //   const html = ReactDOMServer.renderToString(\r\n  //     // <StaticRouter location={req.url} context={r}>\r\n  //     //   <Switch>\r\n  //     //     <Route exact path='/issues' component={IssueList} {...context} />\r\n  //     //     <Route component={NoMatch} />\r\n  //     //   </Switch>\r\n  //     // </StaticRouter>\r\n  //     <Client />\r\n  //   );\r\n  //   res.write(`\r\n  //   <html>\r\n  //   <head></head>\r\n  //   <body>\r\n  //   <div id=\"app\">${html}</div>\r\n  //   <script src=\"/vendor.js\"></script>\r\n  //   <script src=\"/app.js\"></script>\r\n  //   </body>\r\n  //   </html>\r\n  // `);\r\n  //   res.end();\r\n  // }).catch(err => {\r\n  //   console.log(err);\r\n  // })\r\n  const html = renderToString(<HelloWorld />);\r\n  res.send(template(html));\r\n});\r\n\r\nexport default renderedPageRouter;\r\n","import React from 'react';\r\n\r\nexport default class HelloWorld extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = Object.assign({}, this.props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"你妹啊，你还好吧\");\r\n        setTimeout(() => {\r\n            console.log(\"有反应···aaa\");\r\n            this.setState({ addressee: '3秒后的状态' });\r\n        }, 3000);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1>Hello {this.state.addressee}!</h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nHelloWorld.defaultProps = {\r\n    addressee: '',\r\n};"],"sourceRoot":""}