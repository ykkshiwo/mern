{"version":3,"sources":["webpack:///./server/renderedPageRouter.jsx"],"names":["__webpack_require__","_reactRouter","_reactRouterDom","renderedPageRouter","Router","test","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","console","log","staticContext","state","issues","i","metadata","totalCount","React","Component","_react2","default","createElement","NoMatch","get","req","res","url","fetch","then","response","json","result","r","context","a","html","ReactDOMServer","renderToString","StaticRouter","location","Route","_extends","exact","path","component","IssueList","write","end"],"mappings":"ghBAAAA,EAAA,QACAA,EAAA,KACAC,EAAAD,EAAA,QACAA,EAAA,IACAE,EAAAF,EAAA,OAEAA,EAAA,wDAEA,IAAMG,EAAqB,IAAIC,UAEzBC,cAEJ,SAAAA,EAAYC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAN,KACXF,IADW,OAEjBS,QAAQC,IAAI,YAAaP,EAAKH,MAAMW,eACpCR,EAAKS,MAAQ,CACXC,OAAQV,EAAKH,MAAMW,cAAcG,EAAEC,SAASC,YAJ7Bb,qUAFFc,UAAMC,+CAYrB,OACEC,EAAAC,QAAAC,cAAA,WAEEF,EAAAC,QAAAC,cAAA,cAASnB,KAAKU,MAAMC,kBAOtBS,EAAU,kBAAMH,EAAAC,QAAAC,cAAA,6BAEtBxB,EAAmB0B,IAAI,IAAK,SAACC,EAAKC,GAChChB,QAAQC,IAAI,WACZD,QAAQC,IAAR,4BAAwCc,EAAIE,KAC5CC,kCAAkCH,EAAIE,KAAOE,KAAK,SAAAC,GAChD,OAAOA,EAASC,SACfF,KAAK,SAAAG,GACNtB,QAAQC,IAAI,aAAcqB,GAC1B,IAAMC,EAAI,CAAElB,EAAGiB,GACTE,EAAU,CAAEC,EAAG,KACfC,EAAOC,UAAeC,eAC1BlB,EAAAC,QAAAC,cAAC1B,EAAA2C,aAAD,CAAcC,SAAUf,EAAIE,IAAKO,QAASD,GAExCb,EAAAC,QAAAC,cAACzB,EAAA4C,MAADC,EAAA,CAAOC,OAAA,EAAMC,KAAK,UAAUC,UAAW7C,GAAUkC,IACjDd,EAAAC,QAAAC,cAACzB,EAAA4C,MAADC,EAAA,CAAOC,OAAA,EAAMC,KAAK,aAAaC,UAAWC,WAAgBZ,IAC1Dd,EAAAC,QAAAC,cAACzB,EAAA4C,MAAD,CAAOI,UAAWtB,MAGtBG,EAAIqB,MAAJ,4CAEgBX,EAFhB,cAIAV,EAAIsB,oBAIOlD","file":"0.8bd1a3c544a8a8d1b96f.hot-update.js","sourcesContent":["import React from 'react';\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { StaticRouter } from 'react-router';\r\nimport Router from 'express';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport IssueList from '../src/IssueList.jsx';\r\n\r\nconst renderedPageRouter = new Router();\r\n\r\nclass test extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"props的值是：\", this.props.staticContext);\r\n    this.state = {\r\n      issues: this.props.staticContext.i.metadata.totalCount,\r\n      //   totalCount: data.metadata.totalCount,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <button>{this.state.issues}</button> */}\r\n        <button>{this.state.issues}</button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst test2 = () => <p>Page is test2222222</p>;\r\nconst NoMatch = () => <p>Pagee Not Found</p>;\r\n\r\nrenderedPageRouter.get('*', (req, res) => {\r\n  console.log(\"服务器启用成功\");\r\n  console.log(`http://127.0.0.1:3000/api${req.url}`);\r\n  fetch(`http://127.0.0.1:3000/api${req.url}`).then(response => {\r\n    return response.json();\r\n  }).then(result => {\r\n    console.log('从服务器返回的数据：', result);\r\n    const r = { i: result };\r\n    const context = { a: 123 };\r\n    const html = ReactDOMServer.renderToString(\r\n      <StaticRouter location={req.url} context={r}>\r\n        {/* <routes /> */}\r\n        <Route exact path='/issues' component={test} {...context} />\r\n        <Route exact path='/IssueList' component={IssueList}  {...context} />\r\n        <Route component={NoMatch} />\r\n      </StaticRouter>\r\n    );\r\n    res.write(`\r\n    <!doctype html>\r\n    <div id=\"app\">${html}</div>\r\n  `);\r\n    res.end();\r\n  })\r\n});\r\n\r\nexport default renderedPageRouter;\r\n"],"sourceRoot":""}